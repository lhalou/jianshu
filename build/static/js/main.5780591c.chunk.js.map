{"version":3,"sources":["common/detail/store/reducer.js","common/detail/store/constants.js","common/detail/store/actionCreators.js","statics/logo.png","style.js","common/header/store/reducer.js","common/header/store/actionCreators.js","common/header/store/constants.js","common/login/store/reducer.js","common/login/store/actionCreators.js","common/login/store/constants.js","common/header/style.js","common/header/index.js","common/home/store/reducer.js","common/home/store/actionCreators.js","common/home/store/constants.js","common/home/components/List.js","common/home/components/Recommend.js","common/home/components/Topic.js","common/home/components/Writer.js","common/home/index.js","common/detail/loadable.js","store/reducer.js","store/index.js","common/login/index.js","common/write/index.js","App.js","index.js"],"names":["defaultState","fromJS","title","content","state","action","type","merge","getDetail","id","dispatch","axios","get","then","res","result","data","catch","alert","module","exports","createGlobalStyle","defaultStore","focused","mouseIn","list","page","totalPage","searchFocus","searchBlur","mouseEnter","mouseLeave","changePage","getList","Axios","Math","ceil","length","changeList","console","log","login","account","password","value","logout","HeaderWrapper","styled","div","Logo","logoPic","Nav","NavItem","SearchWrapper","NavSearch","input","attrs","placeholder","SearchInfo","SearchInfoTitile","SearchInfoSwitch","span","SearchInfoList","SearchInfoItem","Addition","Button","Header","this","props","handleMouseEnter","handleMouseLeave","handleChangePage","newList","toJS","pageList","i","push","key","onMouseEnter","onMouseLeave","onClick","spinIcon","ref","icon","className","handleFocus","handleBlur","to","CSSTransition","in","timeout","classNames","onFocus","onBlur","getListArea","PureComponent","connect","getIn","size","actionCreators","spin","originAngle","style","transform","replace","parseInt","loginActionCreators","topicList","articleList","writerList","articlePage","showScroll","changeHomeData","getMoreList","concat","aticlePage","newPage","getHomeInfo","topShow","show","List","map","item","index","src","alt","Recommend","Topic","Writer","Home","bindEvents","window","removeEventListener","changeScrollTopShow","addEventListener","scrollTo","handleScrollTop","bind","document","documentElement","scrollTop","LoadableComponent","Loadable","loader","loading","reducer","combineReducers","header","set","home","detail","detailReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Login","loginStatus","accountElement","passwordElement","Write","App","path","exact","component","Detail","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5780591c.chunk.js","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"./constants.js\";\r\nconst defaultState = fromJS({\r\n  title: \"\",\r\n  content: \"\",\r\n});\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case constants.CHANGE_DETAIL:\r\n      return state.merge({\r\n        title: action.title,\r\n        content: action.content,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const CHANGE_DETAIL = \"/detail/change_detail\";\r\n","import axios from \"axios\";\r\nimport * as constants from \"./constants.js\";\r\nconst changeDetail = (title, content) => ({\r\n  type: constants.CHANGE_DETAIL,\r\n  title,\r\n  content,\r\n});\r\nexport const getDetail = (id) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .get(\"/api/detail.json?id=\" + id)\r\n      .then((res) => {\r\n        const result = res.data.data;\r\n        dispatch(changeDetail(result.title, result.content));\r\n      })\r\n      .catch(() => {\r\n        alert(\"error\");\r\n      });\r\n  };\r\n};\r\n","module.exports = \"data:image/png;base64,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\"","import { createGlobalStyle } from \"styled-components\";\r\n\r\ncreateGlobalStyle`\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, code,\r\n  del, dfn, em, img, ins, kbd, q, s, samp,\r\n  small, strike, strong, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  /* HTML5 display-role reset for older browsers */\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n`;\r\n","import * as constants from \"./constants.js\";\r\nimport { fromJS } from \"immutable\";\r\nconst defaultStore = fromJS({\r\n  focused: false,\r\n  mouseIn: false,\r\n  list: [],\r\n  page: 1,\r\n  totalPage: 1,\r\n});\r\nexport default (state = defaultStore, action) => {\r\n  //if语句 使用switch--case代替\r\n  switch (action.type) {\r\n    case constants.SEARCH_FOCUS:\r\n      return state.set(\"focused\", true);\r\n    case constants.SEARCH_BLUR:\r\n      return state.set(\"focused\", false);\r\n    case constants.CHANGE_LIST:\r\n      return state.set(\"list\", action.data).set(\"totalPage\", action.totalPage);\r\n    case constants.MOUSE_ENTER:\r\n      return state.set(\"mouseIn\", true);\r\n    case constants.MOUSE_LEAVE:\r\n      return state.set(\"mouseIn\", false);\r\n    case constants.CHANGE_PAGE:\r\n      return state.set(\"page\", action.page);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as constants from \"./constants.js\";\r\nimport Axios from \"axios\";\r\nimport { fromJS } from \"immutable\";\r\nconst changeList = (data) => ({\r\n  type: constants.CHANGE_LIST,\r\n  //接受到的data是js对象，而reducer中处理的是immutable对象，所以需要对data进行数据转换\r\n  data: fromJS(data),\r\n  totalPage: Math.ceil(data.length / 10),\r\n});\r\nexport const searchFocus = () => ({\r\n  type: constants.SEARCH_FOCUS,\r\n});\r\nexport const searchBlur = () => ({\r\n  type: constants.SEARCH_BLUR,\r\n});\r\nexport const mouseEnter = () => ({\r\n  type: constants.MOUSE_ENTER,\r\n});\r\nexport const mouseLeave = () => ({\r\n  type: constants.MOUSE_LEAVE,\r\n});\r\nexport const changePage = (page) => ({\r\n  type: constants.CHANGE_PAGE,\r\n  page,\r\n});\r\nexport const getList = () => {\r\n  return (dispatch) => {\r\n    Axios.get(\"/api/headerList.json\")\r\n      .then((res) => {\r\n        const data = res.data;\r\n        //data.data是js对象\r\n        dispatch(changeList(data.data));\r\n      })\r\n      .catch(() => {\r\n        console.log(\"error\");\r\n      });\r\n  };\r\n};\r\n","export const SEARCH_FOCUS = \"header/search_focus\";\r\nexport const SEARCH_BLUR = \"header/search_blur\";\r\nexport const CHANGE_LIST = \"header/change_list\";\r\nexport const MOUSE_ENTER = \"header/mouse_enter\";\r\nexport const MOUSE_LEAVE = \"header/mouse_leave\";\r\nexport const CHANGE_PAGE = \"header/change_page\";\r\n","import { fromJS } from \"immutable\";\r\nimport * as constants from \"./constants.js\";\r\nconst defaultStore = fromJS({\r\n  login: false,\r\n});\r\n\r\nexport default (state = defaultStore, action) => {\r\n  //if语句 使用switch--case代替\r\n  switch (action.type) {\r\n    case constants.CHANGE_LOGIN:\r\n      return state.set(\"login\", action.value);\r\n    case constants.CHANGE_LOGOUT:\r\n      return state.set(\"login\", action.value);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport * as constants from \"./constants\";\r\nimport { fromJS } from \"immutable\";\r\nconst changeLogin = () => ({\r\n  type: constants.CHANGE_LOGIN,\r\n  value: true,\r\n});\r\nexport const login = (account, password) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .get(\"/api/login.json?account=\" + account + \"&password= \" + password)\r\n      .then((res) => {\r\n        console.log(res);\r\n        const result = res.data.data;\r\n        console.log(result);\r\n        if (result) {\r\n          dispatch(changeLogin());\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      });\r\n  };\r\n};\r\nexport const logout = () => ({\r\n  type: constants.CHANGE_LOGOUT,\r\n  value: false,\r\n});\r\n","export const CHANGE_LOGIN = \"login/change_login\";\r\nexport const CHANGE_LOGOUT = \"login/change_logout\";\r\n","import styled from \"styled-components\";\r\nimport logoPic from \"../../statics/logo.png\";\r\nexport const HeaderWrapper = styled.div`\r\n  z-index: 1;\r\n  position: relative;\r\n  height: 56px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n`;\r\n\r\nexport const Logo = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: block;\r\n  width: 100px;\r\n  height: 56px;\r\n  background: url(${logoPic});\r\n  background-size: 100% 100%;\r\n`;\r\nexport const Nav = styled.div`\r\n  max-width: 960px;\r\n  margin: 0 auto;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  padding-right: 80px;\r\n  cursor: pointer;\r\n`;\r\nexport const NavItem = styled.div`\r\n  line-height: 56px;\r\n  padding: 0 15px;\r\n  font-size: 17px;\r\n  color: #333;\r\n  &.left {\r\n    float: left;\r\n  }\r\n  &.right {\r\n    float: right;\r\n    color: #969696;\r\n  }\r\n  &.active {\r\n    color: #ea6f5a;\r\n  }\r\n`;\r\nexport const SearchWrapper = styled.div`\r\n  position: relative;\r\n  float: left;\r\n  .zoom {\r\n    position: absolute;\r\n    right: 5px;\r\n    bottom: 5px;\r\n    width: 30px;\r\n    line-height: 30px;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    &.focused {\r\n      background: #777;\r\n      color: #fff;\r\n    }\r\n  }\r\n`;\r\nexport const NavSearch = styled.input.attrs({ placeholder: \"搜索\" })`\r\n  width: 160px;\r\n  height: 38px;\r\n  margin-top: 9px;\r\n  margin-left: 20px;\r\n  padding: 0 30px 0 20px;\r\n  box-sizing: border-box;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 19px;\r\n  background: #eee;\r\n  font-size: 14px;\r\n  color: #666;\r\n  &::placeholder {\r\n    color: #999;\r\n  }\r\n  &.focused {\r\n    width: 240px;\r\n  }\r\n  &.slide-enter {\r\n    transition: all 0.2s ease-out;\r\n  }\r\n  &.slide-enter-active {\r\n    width: 240px;\r\n  }\r\n  &.slide-exit {\r\n    transition: all 0.2s ease-out;\r\n  }\r\n  &.slide-exit-enter {\r\n    width: 160px;\r\n  }\r\n`;\r\nexport const SearchInfo = styled.div`\r\n  position: absolute;\r\n  top: 56px;\r\n  left: 0;\r\n  width: 240px;\r\n  padding: 0 20px;\r\n  box-sizing: border-box;\r\n  margin-left: 20px;\r\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n`;\r\nexport const SearchInfoTitile = styled.div`\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  line-height: 20px;\r\n  font-size: 13px;\r\n  color: #969696;\r\n`;\r\nexport const SearchInfoSwitch = styled.span`\r\n  float: right;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n\r\n  .spin {\r\n    font-size: 12px;\r\n    margin-right: 2px;\r\n    display: block;\r\n    float: left;\r\n    transition: all 0.2s ease-in;\r\n    transform-origin: center center;\r\n  }\r\n`;\r\nexport const SearchInfoList = styled.div`\r\n  overflow: hidden;\r\n`;\r\nexport const SearchInfoItem = styled.div`\r\n  padding: 0 5px;\r\n  line-height: 20px;\r\n  font-size: 11px;\r\n  border: 1px solid #ddd;\r\n  color: #787878;\r\n  border-radius: 3px;\r\n  display: block;\r\n  float: left;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\nexport const Addition = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  height: 56px;\r\n`;\r\nexport const Button = styled.div`\r\n  float: right;\r\n  margin-top: 9px;\r\n  margin-right: 10px;\r\n  padding: 0 20px;\r\n  line-height: 38px;\r\n  border-radius: 19px;\r\n  border: 1px solid #ec6149;\r\n  font-size: 14px;\r\n  &.ref {\r\n    color: #ec6149;\r\n  }\r\n  &.writting {\r\n    color: #fff;\r\n    background: #ec6149;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n","import React, { PureComponent } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreators } from \"./store\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { actionCreators as loginActionCreators } from \"../login/store/index.js\";\r\nimport {\r\n  HeaderWrapper,\r\n  Logo,\r\n  Nav,\r\n  NavItem,\r\n  SearchWrapper,\r\n  NavSearch,\r\n  SearchInfo,\r\n  SearchInfoTitile,\r\n  SearchInfoSwitch,\r\n  SearchInfoList,\r\n  SearchInfoItem,\r\n  Addition,\r\n  Button,\r\n} from \"./style.js\";\r\nclass Header extends PureComponent {\r\n  getListArea() {\r\n    const {\r\n      focused,\r\n      list,\r\n      mouseIn,\r\n      page,\r\n      totalPage,\r\n      handleMouseEnter,\r\n      handleMouseLeave,\r\n      handleChangePage,\r\n    } = this.props;\r\n    const newList = list.toJS(); //list是immutable对象，使用toJS()转换成JS对象\r\n    const pageList = [];\r\n    if (newList.length) {\r\n      //ajax请求数据返回，才进行页面的渲染，不进行If 判断的话，最开始newList[i]全部都是undefined\r\n      for (let i = (page - 1) * 10; i < page * 10; i++) {\r\n        pageList.push(<SearchInfoItem key={i}>{newList[i]}</SearchInfoItem>);\r\n      }\r\n    }\r\n\r\n    if (focused || mouseIn) {\r\n      return (\r\n        <SearchInfo\r\n          onMouseEnter={handleMouseEnter}\r\n          onMouseLeave={handleMouseLeave}\r\n        >\r\n          <SearchInfoTitile>\r\n            热门搜索\r\n            <SearchInfoSwitch\r\n              onClick={() => handleChangePage(page, totalPage, this.spinIcon)}\r\n            >\r\n              <i\r\n                ref={(icon) => {\r\n                  this.spinIcon = icon;\r\n                }}\r\n                className=\"iconfont spin\"\r\n              >\r\n                &#xe8e7;\r\n              </i>\r\n              换一批\r\n            </SearchInfoSwitch>\r\n          </SearchInfoTitile>\r\n          <SearchInfoList>{pageList}</SearchInfoList>\r\n        </SearchInfo>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      focused,\r\n      handleFocus,\r\n      handleBlur,\r\n      list,\r\n      login,\r\n      logout,\r\n    } = this.props;\r\n    return (\r\n      <HeaderWrapper>\r\n        <Link to=\"/\">\r\n          <Logo />\r\n        </Link>\r\n\r\n        <Nav>\r\n          <NavItem className=\"left active\">首页</NavItem>\r\n          <NavItem className=\"left\">下载App</NavItem>\r\n          {login ? (\r\n            <NavItem className=\"right\" onClick={logout}>\r\n              退出\r\n            </NavItem>\r\n          ) : (\r\n            <Link to=\"/login\">\r\n              <NavItem className=\"right\">登录</NavItem>\r\n            </Link>\r\n          )}\r\n\r\n          <NavItem className=\"right\">\r\n            <i className=\"iconfont\">&#xe600;</i>\r\n          </NavItem>\r\n          <SearchWrapper>\r\n            <CSSTransition in={focused} timeout={200} classNames=\"slide\">\r\n              <NavSearch\r\n                className={focused ? \"focused\" : \"\"}\r\n                onFocus={() => handleFocus(list)}\r\n                onBlur={handleBlur}\r\n              />\r\n            </CSSTransition>\r\n            <i className={focused ? \"focused iconfont zoom\" : \"iconfont zoom\"}>\r\n              &#xe643;\r\n            </i>\r\n            {this.getListArea()}\r\n          </SearchWrapper>\r\n        </Nav>\r\n        <Addition>\r\n          <Link to=\"/write\">\r\n            <Button className=\"writting\">\r\n              <i className=\"iconfont\">&#xe6a6;</i>\r\n              写文章\r\n            </Button>\r\n          </Link>\r\n\r\n          <Button className=\"ref\">注册</Button>\r\n        </Addition>\r\n      </HeaderWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    //所有的数据都是Immutable对象，所以采用immutable的方式获取到\r\n    focused: state.getIn([\"header\", \"focused\"]),\r\n    mouseIn: state.getIn([\"header\", \"mouseIn\"]),\r\n    list: state.getIn([\"header\", \"list\"]),\r\n    page: state.getIn([\"header\", \"page\"]),\r\n    totalPage: state.getIn([\"header\", \"totalPage\"]),\r\n    login: state.getIn([\"login\", \"login\"]),\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleFocus(list) {\r\n      // if (list.size === 0) {\r\n      //   dispatch(actionCreators.getList());\r\n      // }\r\n      //list。size === 0，就发送ajax 请求，否则就是在本地获取的\r\n      //上面三句话等价于\r\n      console.log(list);\r\n      list.size === 0 && dispatch(actionCreators.getList());\r\n      console.log(list);\r\n      dispatch(actionCreators.searchFocus());\r\n    },\r\n    handleBlur() {\r\n      dispatch(actionCreators.searchBlur());\r\n    },\r\n    handleMouseEnter() {\r\n      dispatch(actionCreators.mouseEnter());\r\n    },\r\n    handleMouseLeave() {\r\n      dispatch(actionCreators.mouseLeave());\r\n    },\r\n    handleChangePage(page, totalPage, spin) {\r\n      let originAngle = spin.style.transform.replace(/[^0-9]/gi, \" \");\r\n      console.log(originAngle);\r\n      if (originAngle) {\r\n        //originAngle是字符串\r\n        originAngle = parseInt(originAngle, 10);\r\n      } else {\r\n        originAngle = 0;\r\n      }\r\n      spin.style.transform = \"rotate(\" + (originAngle + 360) + \"deg)\";\r\n      if (page < totalPage) {\r\n        dispatch(actionCreators.changePage(page + 1));\r\n      } else {\r\n        dispatch(actionCreators.changePage(1));\r\n      }\r\n    },\r\n    logout() {\r\n      dispatch(loginActionCreators.logout());\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import { fromJS } from \"immutable\";\r\nimport * as constants from \"./constants.js\";\r\nconst defaultStore = fromJS({\r\n  topicList: [],\r\n  articleList: [],\r\n  writerList: [],\r\n  articlePage: 1,\r\n  showScroll: false,\r\n});\r\n\r\nconst changeHomeData = (state, action) => {\r\n  return state.merge({\r\n    //action.topicList为普通对象，topicList是immutable对象，要做数据类型的转换\r\n    topicList: fromJS(action.topicList),\r\n    articleList: fromJS(action.articleList),\r\n    writerList: fromJS(action.writerList),\r\n  });\r\n};\r\nconst getMoreList = (state, action) => {\r\n  return state.merge({\r\n    articleList: state.get(\"articleList\").concat(action.list),\r\n    aticlePage: action.newPage,\r\n  });\r\n};\r\nexport default (state = defaultStore, action) => {\r\n  //if语句 使用switch--case代替\r\n  switch (action.type) {\r\n    case constants.CHANGE_HOME_DATA:\r\n      return changeHomeData(state, action);\r\n    //merge就代替了set()方法的链式调用\r\n    case constants.GET_MORE_LIST:\r\n      return getMoreList(state, action);\r\n    case constants.TOP_SHOW:\r\n      return state.set(\"showScroll\", action.show);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport * as constants from \"./constants\";\r\nimport { fromJS } from \"immutable\";\r\n\r\nconst changeHomeData = (result) => ({\r\n  type: constants.CHANGE_HOME_DATA,\r\n  topicList: result.topicList,\r\n  articleList: result.articleList,\r\n  writerList: result.writerList,\r\n});\r\nconst addHomeList = (list) => ({\r\n  type: constants.GET_MORE_LIST,\r\n  list: fromJS(list),\r\n});\r\nexport const getHomeInfo = () => {\r\n  return (dispatch) => {\r\n    axios.get(\"/api/home.json\").then((res) => {\r\n      const result = res.data.data;\r\n      dispatch(changeHomeData(result));\r\n    });\r\n  };\r\n};\r\nexport const getMoreList = (page) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .get(\"/api/homeList.json?page=\" + page)\r\n      .then((res) => {\r\n        const result = res.data.data;\r\n        dispatch(addHomeList(result, page + 1));\r\n      })\r\n      .catch(() => {\r\n        alert(\"error\");\r\n      });\r\n  };\r\n};\r\nexport const topShow = (show) => ({\r\n  type: constants.TOP_SHOW,\r\n  show,\r\n});\r\n","export const CHANGE_HOME_DATA = \"home/change_home_data\";\r\nexport const GET_MORE_LIST = \"home/get_more_list\";\r\nexport const TOP_SHOW = \"home/top_show\";\r\n","import React, { PureComponent, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../style.css\";\r\nimport { actionCreators } from \"../store/index.js\";\r\nimport { Link } from \"react-router-dom\";\r\nclass List extends PureComponent {\r\n  render() {\r\n    const { list, getMoreList, page } = this.props;\r\n    return (\r\n      <Fragment>\r\n        {list.map((item, index) => {\r\n          return (\r\n            <Link key={index} to={\"/detail/ \" + item.get(\"id\")}>\r\n              <div className=\"listItem\">\r\n                <img className=\"pic\" src={item.get(\"imgUrl\")} alt=\"\"></img>\r\n                <div className=\"listInfo\">\r\n                  <h3 className=\"title\">{item.get(\"title\")}</h3>\r\n                  <p className=\"desc\">{item.get(\"desc\")}</p>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n        <div className=\"loadMore\" onClick={() => getMoreList(page)}>\r\n          加载更多\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapState = (state) => ({\r\n  list: state.getIn([\"home\", \"articleList\"]),\r\n  page: state.getIn([\"home\", \"articlePage\"]),\r\n});\r\nconst mapDispatch = (dispatch) => ({\r\n  getMoreList(page) {\r\n    const action = actionCreators.getMoreList(page);\r\n    dispatch(action);\r\n  },\r\n});\r\nexport default connect(mapState, mapDispatch)(List);\r\n","import React, { PureComponent } from \"react\";\r\nimport \"../style.css\";\r\nclass Recommend extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"recommendWrapper\">\r\n        <div className=\"recommendItem huiyuan\"></div>\r\n        <div className=\"recommendItem lianzai\"></div>\r\n        <div className=\"recommendItem banquan\"></div>\r\n        <div className=\"recommendItem xuetang\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Recommend;\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../style.css\";\r\nclass Topic extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"topicWrapper\">\r\n        {\r\n          //list是immutable对象，所以item也是immutable对象\r\n          this.props.list.map((item) => {\r\n            return (\r\n              <div className=\"topicItem\" key={item.get(\"id\")}>\r\n                <img\r\n                  className=\"topic-pic\"\r\n                  src={item.get(\"imgUrl\")}\r\n                  alt=\"\"\r\n                ></img>\r\n                {item.get(\"title\")}\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapState = (state) => {\r\n  //list是immutable对象\r\n  return {\r\n    list: state.get(\"home\").get(\"topicList\"),\r\n  };\r\n};\r\nexport default connect(mapState, null)(Topic);\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Writer extends PureComponent {\r\n  render() {\r\n    const { list } = this.props;\r\n    return (\r\n      <div className=\"writerWrapper\">\r\n        {list.map((item) => {\r\n          return (\r\n            <div className=\"writer\" key={item.get(\"id\")}>\r\n              <img className=\"writerImg\" src={item.get(\"imgUrl\")} alt=\"\"></img>\r\n              <p className=\"writerName\">{item.get(\"name\")}</p>\r\n              <p className=\"writerTitle\">{item.get(\"title\")}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapState = (state) => ({\r\n  list: state.getIn([\"home\", \"writerList\"]),\r\n});\r\nexport default connect(mapState)(Writer);\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreators } from \"./store/index.js\";\r\nimport \"./style.css\";\r\nimport List from \"./components/List\";\r\nimport Recommend from \"./components/Recommend\";\r\nimport Topic from \"./components/Topic\";\r\nimport Writer from \"./components/Writer\";\r\n\r\nclass Home extends PureComponent {\r\n  componentDidMount() {\r\n    this.props.changeHomeData();\r\n    this.bindEvents();\r\n  }\r\n  //组件解绑 一定要移除事件绑定\r\n  componentWillMount() {\r\n    window.removeEventListener(\"scroll\", this.props.changeScrollTopShow);\r\n  }\r\n  bindEvents() {\r\n    window.addEventListener(\"scroll\", this.props.changeScrollTopShow);\r\n  }\r\n  handleScrollTop() {\r\n    //回到页面顶部\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"homeWrapper\">\r\n        <div className=\"homeLeft\">\r\n          <img\r\n            className=\"banner-img\"\r\n            src=\"https://upload.jianshu.io/admin_banners/web_images/4969/efed5888b8c06b5eae2e58bf6181846de4246178.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\"\r\n            alt=\"\"\r\n          />\r\n          <Topic />\r\n          <List />\r\n        </div>\r\n        <div className=\"homeRight\">\r\n          <Recommend />\r\n          <Writer />\r\n        </div>\r\n        {this.props.showScroll ? (\r\n          <div className=\"backTop\" onClick={this.handleScrollTop.bind(this)}>\r\n            回到顶部\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapState = (state) => ({\r\n  showScroll: state.getIn([\"home\", \"showScroll\"]),\r\n});\r\nconst mapDispatch = (dispatch) => ({\r\n  changeHomeData() {\r\n    const action = actionCreators.getHomeInfo();\r\n    dispatch(action);\r\n  },\r\n  changeScrollTopShow() {\r\n    if (document.documentElement.scrollTop > 300) {\r\n      dispatch(actionCreators.topShow(true));\r\n    } else {\r\n      dispatch(actionCreators.topShow(false));\r\n    }\r\n  },\r\n});\r\nexport default connect(mapState, mapDispatch)(Home);\r\n","import Loadable from \"react-loadable\";\r\nimport React from \"react\"\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import(\"./\"),\r\n  loading () {\r\n    return <div>正在加载</div>\r\n  },\r\n});\r\nexport default () => <LoadableComponent />;\r\n\r\n","import { combineReducers } from \"redux-immutable\";\r\nimport { reducer as headerReducer } from \"../common/header/store\";\r\nimport { reducer as homeReducer } from \"../common/home/store\";\r\nimport { reducer as detailReducer } from \"../common/detail/store\";\r\nimport { reducer as loginReducer } from \"../common/login/store\";\r\nconst reducer = combineReducers({\r\n  header: headerReducer,\r\n  home: homeReducer,\r\n  detail: detailReducer,\r\n  login: loginReducer,\r\n});\r\nexport default reducer;\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"./reducer.js\";\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\r\nexport default store;\r\n","import React, { PureComponent } from \"react\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { actionCreators } from \"./store/index.js\";\r\nclass Login extends PureComponent {\r\n  render() {\r\n    const { loginStatus } = this.props;\r\n    if (!loginStatus) {\r\n      return (\r\n        <div className=\"loginWrapper\">\r\n          <div className=\"loginBox\">\r\n            <input\r\n              className=\"loginInput\"\r\n              placeholder=\"用户名\"\r\n              ref={(input) => (this.account = input)}\r\n            ></input>\r\n            <input\r\n              className=\"loginInput\"\r\n              placeholder=\"密码\"\r\n              type=\"password\"\r\n              ref={(input) => (this.password = input)}\r\n            ></input>\r\n            <div\r\n              className=\"loginBtn\"\r\n              onClick={() => this.props.login(this.account, this.password)}\r\n            >\r\n              提交\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      //重定向到首页\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  }\r\n}\r\nconst mapState = (state) => ({\r\n  loginStatus: state.getIn([\"login\", \"login\"]),\r\n});\r\nconst mapDispatch = (dispatch) => ({\r\n  login(accountElement, passwordElement) {\r\n    console.log(accountElement.value, passwordElement.value);\r\n    dispatch(actionCreators.login(accountElement.value, passwordElement.value));\r\n  },\r\n});\r\nexport default connect(mapState, mapDispatch)(Login);\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Write extends PureComponent {\r\n  render() {\r\n    const { loginStatus } = this.props;\r\n    if (loginStatus) {\r\n      return <div>写文章页面</div>;\r\n    } else {\r\n      //重定向到首页\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n  }\r\n}\r\nconst mapState = (state) => ({\r\n  loginStatus: state.getIn([\"login\", \"login\"]),\r\n});\r\n\r\nexport default connect(mapState, null)(Write);\r\n","import React, { Component } from \"react\";\nimport Header from \"./common/header/index.js\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport Home from \"./common/home/index.js\";\nimport Detail from \"./common/detail/loadable.js\";\nimport store from \"./store/index.js\";\nimport Login from \"./common/login/index.js\";\nimport Write from \"./common/write/index\";\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route path=\"/\" exact component={Home}></Route>\n            <Route path=\"/login\" exact component={Login}></Route>\n            <Route path=\"/write\" exact component={Write}></Route>\n            <Route path=\"/detail/:id\" exact component={Detail}></Route>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.js\";\nimport \"./statics/iconfont/iconfont.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}